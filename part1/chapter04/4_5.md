# new 연산자와 생성자 함수

생성자의 의의는 재사용할 수 있는 객체 생성 코드를 구현하는 것이다.

new 연산자와 생성자 함수를 사용하면 유사한 객체를 여러개 생성할 수 있다.

생성자 함수와 일반함수의 기술적인 차이는 없으나, 두 관례를 따른다.

1. 함수 이름의 첫 글자는 대문자로 시작한다.
2. 반드시 'new' 연산자를 붙여 실행한다.

new User(...) 를 써서 함수를 실행하면 아래와 같은 알고리즘이 동작한다.

1. 빈 객체를 만들어서 this에 할당
2. 함수 본문을 실행한다. this에 새로운 프로퍼티를 추가해 this를 수정한다.
3. this를 반환한다.

```javascript
function User(name) {
  // this = {};  (빈 객체가 암시적으로 만들어짐)

  // 새로운 프로퍼티를 this에 추가함
  this.name = name;
  this.isAdmin = false;

  // return this;  (this가 암시적으로 반환됨)
}
```

> **new function(){ ... }**
> 
> 재사용할 필요가 없는 복잡한 객체를 만든다고 하면, 아래와 같이 익명 생성자 함수로 감싸주는 방식을 사용할 수 있다.
> ```javascript
> let user = new function() {
> this.name = "John";
> this.isAdmin = false;
>  // 사용자 객체를 만들기 위한 여러 코드.
>  // 지역 변수, 복잡한 로직, 구문 등의
>  // 다양한 코드가 여기에 들어갑니다.
>};
> ````
> 이렇게 익명 생성자 함수를 이용하면 재사용은 막으면서 코드를 캡슐화할 수 있다.

### 생성자와 return문

생성자 함수에는 보통 return 문이 없다. 그런데 , 만약 있다면 어떻게 될까?
1. 객체를 return 하면 this 대신 객체가 반환된다.
2. 원시형을 return 한다면(혹은 아무것도 리턴하지 않을 때) return문이 무시가 된다.


